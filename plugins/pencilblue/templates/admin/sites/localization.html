^tmp_admin=head^
<div class="col-md-9">
    ^tmp_admin=elements=error_success^
    ^tmp_admin=elements=sub_nav^
    ^tmp_admin=elements=tab_nav^
    <style>
        .form-group textarea {
            height: 125px;
        }
    </style>
    <h1>Localization Fields</h1>
    <form name="localizationKVForm" ng-submit="saveLocales()" novalidate>
        <fieldset>
            <div class="tab-content">
                <input name="siteName" type="text" class="form-control"
                       placeholder="site name"
                       ng-model="siteName" readonly>
                <select id="localization-locale-dropdown" ng-model="currentLocale">
                    <option ng-repeat="lang in selectedLocales" value="{{lang}}">{{lang}}</option>
                </select>
                <select id="localization-plugin-dropdown" ng-model="currentPlugin">
                    <option ng-repeat="plugin in activePlugins" value="{{plugin}}">{{plugin}}</option>
                </select>

                <hr>
                <!--Page Localizations-->
                <div class="tab-pane active" id="locale-overrides-section">
                    <label>Add Localizations</label>

                    <div class="row" ng-repeat="localField in localizationKVSet">
                        <div class="col-xs-5">
                            <div class="form-group" ng-class="{'has-error': isKeyValid($index)}">
                                <input name="localFieldKey_{{$index}}" type="text" class="form-control"
                                       placeholder="Localization Key"
                                       ng-model="localField.key" required>
                                <div class="form_error" ng-if="!isKeyValid($index)">
                                    ^loc_THIS_FIELD_IS_REQUIRED^
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-5">
                            <div class="form-group" ng-class="{'has-error': isValueValid($index)}">
                                <input name="localFieldValue_{{$index}}" type="text" class="form-control"
                                       placeholder="Localization Value Text"
                                       ng-model="localField.value" ng-model-options="{allowInvalid: true}" required>
                                <div class="form_error" ng-if="!isValueValid($index)">
                                    ^loc_THIS_FIELD_IS_REQUIRED^
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-1">
                            <div class="form-group">
                                <div class="btn btn-default" ng-click="removeField($index)">
                                    <i class="fa fa-minus"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <hr>
                    <br><label>Add a field...</label><br>
                    <button type="button" class="btn btn-success add_field_button" ng-click="addField('custom')">
                        <i class="fa fa-plus"></i>
                        Add a Custom Locale
                    </button>
                </div>
                <!--submit button-->

                <a class="btn btn-default" href="/admin/localization">
                    <i class="fa fa-ban"></i>&nbsp;^loc_CANCEL^
                </a>
                <button type="submit" class="btn btn-primary" ng-disabled="saving">
                    <i class="fa" ng-class="{'fa-save': !saving, 'fa-circle-o-notch fa-spin': saving}"></i>&nbsp;^loc_SAVE^
                </button>
            </div>
        </fieldset>
    </form>
    ^tmp_admin=elements=progress_console_modal^
</div>
^tmp_angular=admin=sites=localization_settings^
^tmp_admin=footer^
